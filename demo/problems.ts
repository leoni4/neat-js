export const testXOR = {
    input: [
        [0, 0],
        [1, 1],
        [1, 0],
        [0, 1],
    ],
    output: [[0], [0], [1], [1]],
};

export const testXNOR = {
    input: [
        [0, 0],
        [0, 1],
        [1, 0],
        [1, 1],
    ],
    output: [[1], [0], [0], [1]],
};

export const testAND_OR = {
    input: [
        [0, 0],
        [0, 1],
        [1, 0],
        [1, 1],
    ],
    output: [
        [0, 0],
        [0, 1],
        [0, 1],
        [1, 1],
    ],
};

export const testParity3 = {
    input: [
        [0, 0, 0],
        [0, 0, 1],
        [0, 1, 0],
        [0, 1, 1],
        [1, 0, 0],
        [1, 0, 1],
        [1, 1, 0],
        [1, 1, 1],
    ],
    output: [[0], [1], [1], [0], [1], [0], [0], [1]],
};

export const testCircle = {
    input: [
        // inside (1)
        [0.0, 0.0],
        [0.2, 0.1],
        [-0.2, 0.1],
        [0.1, -0.2],
        [-0.1, -0.25],
        [0.35, 0.15],
        [-0.35, 0.15],
        [0.15, 0.35],
        [-0.15, 0.35],
        [0.45, 0.0],
        [-0.45, 0.0],
        [0.0, 0.5],

        // outside (0)
        [0.9, 0.0],
        [-0.9, 0.0],
        [0.0, 0.9],
        [0.0, -0.9],
        [0.7, 0.5],
        [-0.7, 0.5],
        [0.7, -0.5],
        [-0.7, -0.5],
        [0.55, 0.55],
        [-0.55, 0.55],
        [0.55, -0.55],
        [-0.55, -0.55],
    ],
    output: [
        // inside
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],

        // outside
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
    ],
};

export const testTwoMoons = {
    input: [
        [-1.0, 0.0],
        [-0.8, 0.6],
        [-0.4, 0.9],
        [0.0, 1.0],
        [0.4, 0.9],
        [0.8, 0.6],
        [1.0, 0.0],
        [0.6, 0.3],
        [0.2, 0.7],
        [-0.2, 0.7],
        [-0.6, 0.3],
        [0.9, 0.1],

        [-0.6, -0.3],
        [-0.2, -0.7],
        [0.2, -0.7],
        [0.6, -0.3],
        [1.0, -0.1],
        [1.2, 0.2],
        [0.8, -0.6],
        [0.4, -0.9],
        [0.0, -1.0],
        [-0.4, -0.9],
        [-0.8, -0.6],
        [1.1, 0.0],
    ],
    output: [
        // Moon A
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],

        // Moon B
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
    ],
};

export const testSin01 = {
    input: [
        [-3.1416], // -pi
        [-2.3562], // -3pi/4
        [-1.5708], // -pi/2
        [-0.7854], // -pi/4
        [0.0],
        [0.7854],
        [1.5708],
        [2.3562],
        [3.1416], // +pi
    ],
    output: [
        [0.5], // sin(-pi)=0 -> 0.5
        [0.1464], // sin(-3pi/4)=-0.707 -> ~0.146
        [0.0], // sin(-pi/2)=-1 -> 0
        [0.1464], // -0.707 -> ~0.146
        [0.5], // 0 -> 0.5
        [0.8536], // +0.707 -> ~0.854
        [1.0], // +1 -> 1
        [0.8536], // +0.707 -> ~0.854
        [0.5], // 0 -> 0.5
    ],
};

export const testParity5 = {
    input: [
        [0, 0, 0, 0, 0],
        [0, 0, 0, 0, 1],
        [0, 0, 0, 1, 0],
        [0, 0, 0, 1, 1],
        [0, 0, 1, 0, 0],
        [0, 0, 1, 0, 1],
        [0, 0, 1, 1, 0],
        [0, 0, 1, 1, 1],
        [0, 1, 0, 0, 0],
        [0, 1, 0, 0, 1],
        [0, 1, 0, 1, 0],
        [0, 1, 0, 1, 1],
        [0, 1, 1, 0, 0],
        [0, 1, 1, 0, 1],
        [0, 1, 1, 1, 0],
        [0, 1, 1, 1, 1],
        [1, 0, 0, 0, 0],
        [1, 0, 0, 0, 1],
        [1, 0, 0, 1, 0],
        [1, 0, 0, 1, 1],
        [1, 0, 1, 0, 0],
        [1, 0, 1, 0, 1],
        [1, 0, 1, 1, 0],
        [1, 0, 1, 1, 1],
        [1, 1, 0, 0, 0],
        [1, 1, 0, 0, 1],
        [1, 1, 0, 1, 0],
        [1, 1, 0, 1, 1],
        [1, 1, 1, 0, 0],
        [1, 1, 1, 0, 1],
        [1, 1, 1, 1, 0],
        [1, 1, 1, 1, 1],
    ],

    output: [
        [0],
        [1],
        [1],
        [0],
        [1],
        [0],
        [0],
        [1],
        [1],
        [0],
        [0],
        [1],
        [0],
        [1],
        [1],
        [0],
        [1],
        [0],
        [0],
        [1],
        [0],
        [1],
        [1],
        [0],
        [0],
        [1],
        [1],
        [0],
        [1],
        [0],
        [0],
        [1],
    ],
};

export const testMajority7 = {
    input: (() => {
        const res: number[][] = [];
        for (let mask = 0; mask < 1 << 7; mask++) {
            const row: number[] = [];
            for (let b = 0; b < 7; b++) row.push((mask >> b) & 1);
            res.push(row);
        }

        return res;
    })(),
    output: (() => {
        const out: number[][] = [];
        for (let mask = 0; mask < 1 << 7; mask++) {
            let ones = 0;
            for (let b = 0; b < 7; b++) ones += (mask >> b) & 1;
            out.push([ones >= 4 ? 1 : 0]);
        }

        return out;
    })(),
};

export const testRings = {
    input: [
        [-0.9, 0.0],
        [-0.75, 0.0],
        [-0.6, 0.0],
        [-0.45, 0.0],
        [-0.3, 0.0],
        [0.3, 0.0],
        [0.45, 0.0],
        [0.6, 0.0],
        [0.75, 0.0],
        [0.9, 0.0],
        [0.0, -0.9],
        [0.0, -0.75],
        [0.0, -0.6],
        [0.0, -0.45],
        [0.0, -0.3],
        [0.0, 0.3],
        [0.0, 0.45],
        [0.0, 0.6],
        [0.0, 0.75],
        [0.0, 0.9],

        [-0.64, -0.64],
        [-0.5, -0.5],
        [-0.36, -0.36],
        [-0.22, -0.22],
        [0.22, 0.22],
        [0.36, 0.36],
        [0.5, 0.5],
        [0.64, 0.64],

        [-0.64, 0.64],
        [-0.5, 0.5],
        [-0.36, 0.36],
        [-0.22, 0.22],
        [0.22, -0.22],
        [0.36, -0.36],
        [0.5, -0.5],
        [0.64, -0.64],
    ],

    output: [
        [1],
        [1],
        [1],
        [0],
        [0],
        [0],
        [0],
        [1],
        [1],
        [1],
        [1],
        [1],
        [1],
        [0],
        [0],
        [0],
        [0],
        [1],
        [1],
        [1],

        [1],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [1],

        [1],
        [0],
        [0],
        [0],
        [0],
        [0],
        [0],
        [1],
    ],
};

export const testWaveMix01 = {
    input: [
        [-3.1416],
        [-2.7925],
        [-2.4435],
        [-2.0944],
        [-1.7453],
        [-1.3963],
        [-1.0472],
        [-0.6981],
        [-0.3491],
        [0.0],
        [0.3491],
        [0.6981],
        [1.0472],
        [1.3963],
        [1.7453],
        [2.0944],
        [2.4435],
        [2.7925],
        [3.1416],
    ],
    output: (() => {
        const xs = [
            -3.1416, -2.7925, -2.4435, -2.0944, -1.7453, -1.3963, -1.0472, -0.6981, -0.3491, 0.0, 0.3491, 0.6981,
            1.0472, 1.3963, 1.7453, 2.0944, 2.4435, 2.7925, 3.1416,
        ];

        return xs.map(x => {
            const y = Math.sin(3 * x) + 0.3 * Math.sin(9 * x);
            const y01 = y / 2.6 + 0.5;
            // clamp
            const v = Math.max(0, Math.min(1, y01));

            return [Number(v.toFixed(4))];
        });
    })(),
};
